#include <stdio.h>
#include <string.h>
#include <ctype.h>

void process(char *exp, int *length, int *count, char op, char *temp) {
    for (int i = 0; i < *length; i++) {
        if (exp[i] == op) {
            char op1 = exp[i - 1], op2 = exp[i + 1];
            sprintf(temp, "t%d", (*count));
            printf("%s =%s%c %c%s%c\n", temp, isdigit(op1) ? " t" : " ", op1, op, isdigit(op2) ? " t" : " ", op2);
            exp[i - 1] = '0' + (*count)++;
            for (int j = i; j < *length - 2; j++) exp[j] = exp[j + 2];
            *length -= 2;
            i = -1;
        }
    }
}

int main() {
    char exp[100] = "a=a+b*c-d/e", temp[10];
    int count = 1, length = strlen(exp);

    process(exp, &length, &count, '*', temp);
    process(exp, &length, &count, '/', temp);
    process(exp, &length, &count, '+', temp);
    process(exp, &length, &count, '-', temp);

    printf("%c = %s\n", exp[0], temp);
    return 0;
}